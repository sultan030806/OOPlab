#include <iostream>
#include <string>

using namespace std;

class Point {
private:
    int x;
    int y;
public:
    Point() : x(0), y(0) {
        cout << "Конструктор Point по умолчанию\n";
    }
    Point(int x, int y) : x(x), y(y) {
        cout << "Конструктор Point с параметрами (" << x << "," << y << ")\n";
    }
    Point(const Point& other) : x(other.x), y(other.y) {
        cout << "Конструктор копирования Point\n";
    }
    virtual ~Point() {  // Добавили virtual
        cout << "Деструктор Point (" << x << "," << y << ")\n";
    }

    int getX() const { return x; }
    int getY() const { return y; }
    void setX(int newX) { x = newX; }
    void setY(int newY) { y = newY; }

    void move(int dx, int dy) {
        x += dx;
        y += dy;
        cout << "Точка перемещена в (" << x << "," << y << ")\n";
    }

    void print() const {
        cout << "Точка(" << x << ", " << y << ")\n";
    }
};

class ColoredPoint : public Point {
private:
    string color;
public:
    ColoredPoint() : Point(), color("чёрный") {
        cout << "Конструктор ColoredPoint по умолчанию\n";
    }
    ColoredPoint(int x, int y, const string& color)
        : Point(x, y), color(color) {
        cout << "Конструктор ColoredPoint с параметрами\n";
    }

    ~ColoredPoint() {
        cout << "Деструктор ColoredPoint (" << color << ")\n";
    }

    void print() const {
        cout << "Цветная точка(" << getX() << "," << getY()
            << "," << color << ")\n";
    }

    string getColor() const { return color; }
    void setColor(const string& newColor) { color = newColor; }
};

int main() {
    setlocale(LC_ALL, "Ru");

    cout << "1. Создание статических объектов\n";
    Point p1;
    Point p2(10, 20);

    cout << "\n2. Создание динамических объектов\n";
    Point* p3 = new Point(30, 40);

    cout << "\n3. Конструкторы копирования\n";
    Point p4 = p2;

    cout << "\n4. Вызов методов\n";
    p1.print();
    p2.print();
    p3->print();

    cout << "\n5. Перемещение точек\n";
    p1.move(5, 5);

    cout << "\n6. Уничтожение динамических объектов\n";
    delete p3;

    cout << "\n7. Уничтожение статических объектов\n";
    
    cout << "\n8. Работа с наследованием\n";
    ColoredPoint cp1;
    ColoredPoint cp2(5, 15, "красный");
    ColoredPoint* cp3 = new ColoredPoint(25, 35, "синий");

    cp1.print();
    cp2.print();
    cp3->print();

    cout << "\n9. Перемещение цветной точки\n";
    cp1.move(3, 3);

    delete cp3;

    return 0;
}
