#include <iostream>
#include <windows.h>

using namespace std;

class Base {
public:
    void novirtual_method() {
        cout << "не виртуальный метод класса Base" << endl;
    }
    
    virtual void virtual_method() {
        cout << "виртуальный метод класса Base" << endl;
    }
    
    void callsmethod1() {
        cout << "Вызван: ";
        novirtual_method();
    }
    
    virtual void callsmethod2() {
        cout << "Вызван: ";
        virtual_method();
    }
    
    virtual ~Base() {
        cout << "Вызван деструктор Base" << endl;
    }
};

class Dec : public Base {
public:
    void novirtual_method() {
        cout << "перекрываемый не виртуальный метод класса Dec" << endl;
    }
    
    void virtual_method() override {
        cout << "переопределяемый виртуальный метод класса Dec" << endl;
    }
};

int main() {
    SetConsoleCP(1251);
    SetConsoleOutputCP(1251);
    
    cout << "1. Прямой вызов объектов" << endl;
    Base base;
    Dec dec;
    
    cout << "Вызван ";
    base.novirtual_method();
    
    cout << "Вызван ";
    dec.novirtual_method();
    
    cout << "\n2. Вызов объектов через указатель" << endl;
    Base* baseptr = &dec;
    
    cout << "Вызван ";
    baseptr->novirtual_method();
    
    cout << "Вызван ";
    baseptr->virtual_method();
    
    cout << "\n3. Вызовы методов внутри методов" << endl;
    dec.callsmethod1();
    dec.callsmethod2();
    
    cout << "\n4. Демонстрация виртуального деструктора" << endl;
    Base* newobject = new Dec();
    delete newobject;
    
    return 0;
}
